(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{383:function(t,s,a){t.exports=a.p+"assets/img/clientHeight.d925db7c.png"},384:function(t,s,a){t.exports=a.p+"assets/img/offsetHeight.c6e9bade.png"},385:function(t,s,a){t.exports=a.p+"assets/img/scrollHeight.6d1e7e51.png"},386:function(t,s,a){t.exports=a.p+"assets/img/scrollTop.cda24f11.png"},449:function(t,s,a){"use strict";a.r(s);var e=a(26),n=Object(e.a)({},(function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h3",{attrs:{id:"获取元素当前样式"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#获取元素当前样式"}},[t._v("#")]),t._v(" 获取元素当前样式")]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" style "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" window"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("getComputedStyle")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("element"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("pseudoElt"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),e("p",[t._v("element:用于获取计算样式的Element。 pseudoElt 可选:指定一个要匹配的伪元素的字符串。必须对普通元素省略（或null）。 返回的style（只读）是一个实时的 CSSStyleDeclaration\n对象，当元素的样式更改时，它会自动更新本身。")]),t._v(" "),e("h3",{attrs:{id:"拿到某dom所属的-document"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#拿到某dom所属的-document"}},[t._v("#")]),t._v(" 拿到某dom所属的 #document")]),t._v(" "),e("p",[t._v("在 HTML 中，HTML 文档本身始终是元素的 ownerDocument。")]),t._v(" "),e("p",[t._v("可用于作为全局dom，用于添加全局事件。比如点击空白关闭某个小框")]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[t._v("document"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("getElementById")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"demo"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ownerDocument\n")])])]),e("h3",{attrs:{id:"clientheight"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#clientheight"}},[t._v("#")]),t._v(" clientHeight")]),t._v(" "),e("p",[t._v("视窗高度，包括padding，不包括border")]),t._v(" "),e("img",{attrs:{src:a(383),width:"510",height:"305"}}),t._v(" "),e("h3",{attrs:{id:"offsetheight"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#offsetheight"}},[t._v("#")]),t._v(" offsetHeight")]),t._v(" "),e("p",[t._v("高度，包括padding，包括border")]),t._v(" "),e("img",{attrs:{src:a(384),width:"501",height:"306"}}),t._v(" "),e("h3",{attrs:{id:"scrollheight"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#scrollheight"}},[t._v("#")]),t._v(" scrollHeight")]),t._v(" "),e("p",[t._v("视窗高度 + 视窗上方被滚出视窗的高度 + 视窗下方的高度")]),t._v(" "),e("img",{attrs:{src:a(385),width:"634",height:"500"}}),t._v(" "),e("h3",{attrs:{id:"scrolltop"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#scrolltop"}},[t._v("#")]),t._v(" scrollTop")]),t._v(" "),e("p",[t._v("整个文档顶部离视窗顶部的高度")]),t._v(" "),e("img",{attrs:{src:a(386),width:"639",height:"508"}}),t._v(" "),e("p",[t._v("1.ahook的infiniteScroll判断是否加载更多")]),t._v(" "),e("p",[t._v("scrollHeight下沿超出视窗下沿threshold高度就开始loadMore。")]),t._v(" "),e("p",[t._v("设置大，可以更提前地加载东西，确保更顺滑。")]),t._v(" "),e("p",[t._v("设置为-1，逻辑上会使整个计算式永远不成立，永远不执行loadMore")]),t._v(" "),e("p",[t._v("滚到底的时候scrollHeight = clientHeight + scrollTop，所以threshold<0时，条件永远不会成立。")]),t._v(" "),e("p",[t._v("2.如果元素容器target是在tabs内部，会出现display:none的情况。")]),t._v(" "),e("p",[t._v("ahook拿下面尺寸的时候都只能拿到0（没有类似先显示，拿到尺寸，再隐藏的特殊处理），")]),t._v(" "),e("p",[t._v("即，scrollHeight、clientHeight、scrollTop均为0，当threshold设置为大于等于0时，条件永远成立，第一次就会疯狂加载至底部。")]),t._v(" "),e("p",[t._v("如，设置为负值，等式永远不成立，永远无法loadMore。")]),t._v(" "),e("p",[t._v("故target有display:none的情况时，无法使用ahook里面的infiniteScroll")]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("el"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("scrollHeight "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" el"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("scrollTop "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<=")]),t._v(" el"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("clientHeight "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" threshold"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("loadMore")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])])}),[],!1,null,null,null);s.default=n.exports}}]);